name: lab1

mgmt:
  network: lab1_mgmt
  ipv4-subnet: 172.31.0.0/24
  external-access: false

topology:
  kinds:
    xrd:
      kind: cisco_xrd
      image: ${XRD_IMAGE:=ios-xr/xrd-control-plane}:${XRD_VERSION:=25.1.1}

  nodes:
    IPS1-R1:
      kind: xrd
      mgmt-ipv4: 172.31.0.101
      startup-config: configs/IPS1-R1.txt
    ISP1-R2:
      kind: xrd
      mgmt-ipv4: 172.31.0.102
      startup-config: last-config-ccnp/clab-xrd-lab1-core-2.txt
    IPS1-R3:
      kind: xrd
      mgmt-ipv4: 172.31.0.103
      startup-config: last-config-ccnp/clab-xrd-lab1-core-3.txt
    IPS1-R4:
      kind: xrd
      mgmt-ipv4: 172.31.0.104
      startup-config: last-config-ccnp/clab-xrd-lab1-core-4.txt
    R7-Ironman:
      kind: xrd
      mgmt-ipv4: 172.31.0.105
      startup-config: last-config-ccnp/clab-xrd-lab1-edge-5.txt
    R1-Hawkeye:
      kind: xrd
      mgmt-ipv4: 172.31.0.106
      startup-config: last-config-ccnp/clab-xrd-lab1-edge-6.txt
    R9-Hulk:
      kind: xrd
      mgmt-ipv4: 172.31.0.107
      startup-config: last-config-ccnp/clab-xrd-lab1-edge-7.txt
    R11-Hulk:
      kind: xrd
      mgmt-ipv4: 172.31.0.108
      startup-config: last-config-ccnp/clab-xrd-lab1-edge-8.txt
    ISP3:
      kind: xrd
      mgmt-ipv4: 172.31.0.110
      startup-config: last-config-ccnp/clab-xrd-lab1-dc-10.txt
    R4-Ironman:
      kind: xrd
      mgmt-ipv4: 172.31.0.111
      startup-config: last-config-ccnp/clab-xrd-lab1-dc-11.txt


  links:
    - endpoints: [edge-7:Gi0-0-0-2, core-3:Gi0-0-0-2]
    - endpoints: [edge-7:Gi0-0-0-5, core-2:Gi0-0-0-5]
    - endpoints: [edge-7:Gi0-0-0-7, dc-10:Gi0-0-0-7]
    - endpoints: [edge-7:Gi0-0-0-3, edge-8:Gi0-0-0-3]

    - endpoints: [edge-8:Gi0-0-0-6, core-2:Gi0-0-0-6]
    - endpoints: [edge-8:Gi0-0-0-1, core-3:Gi0-0-0-1]
    - endpoints: [edge-8:Gi0-0-0-7, dc-11:Gi0-0-0-7]

    - endpoints: [core-2:Gi0-0-0-4, core-3:Gi0-0-0-4]
    - endpoints: [core-2:Gi0-0-0-3, core-1:Gi0-0-0-3]
    - endpoints: [core-2:Gi0-0-0-0, core-4:Gi0-0-0-0]

    - endpoints: [core-3:Gi0-0-0-0, core-1:Gi0-0-0-0]
    - endpoints: [core-3:Gi0-0-0-3, core-4:Gi0-0-0-3]

    - endpoints: [core-1:Gi0-0-0-4, core-4:Gi0-0-0-4]
    - endpoints: [core-1:Gi0-0-0-2, edge-5:Gi0-0-0-2]
    - endpoints: [core-1:Gi0-0-0-1, edge-6:Gi0-0-0-1]

    - endpoints: [core-4:Gi0-0-0-5, edge-5:Gi0-0-0-5]
    - endpoints: [core-4:Gi0-0-0-6, edge-6:Gi0-0-0-6]

    - endpoints: [edge-5:Gi0-0-0-3, edge-6:Gi0-0-0-3]
    - endpoints: [edge-5:Gi0-0-0-8, dc-10:Gi0-0-0-8]

    - endpoints: [edge-6:Gi0-0-0-8, dc-11:Gi0-0-0-8]

    - endpoints: [edge-7:Gi0-0-0-0, macvlan:ens3]
    - endpoints: [edge-8:Gi0-0-0-0, macvlan:ens4]
    - endpoints: [edge-5:Gi0-0-0-0, macvlan:ens5]
    - endpoints: [edge-6:Gi0-0-0-0, macvlan:ens6]
    - endpoints: [core-4:Gi0-0-0-7, macvlan:ens8]